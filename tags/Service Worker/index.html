<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Service Worker | best FE</title>
  <meta name="author" content="yu">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="best FE"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="best FE" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">best FE</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">首页</a></li>
    
      <li><a href="/archives">所有文章</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
<h2 class="archive-title tag">Service Worker</h2>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-12-08T09:48:18.000Z"><a href="/2014/12/08/初步认识Service-Worker/">Dec 8 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/12/08/初步认识Service-Worker/">初步认识Service Worker</a></h1>
  

    </header>
    <div class="entry">
      
        <p>Rich offline experiences, periodic background syncs, push notifications— functionality that would normally require a native application—are coming to the web. Service workers provide the technical foundation that all these features will rely on.<br>丰富的线下体验，周期性的后台同步，通知推送（native app的常用功能）即将可以在web上实现了。Service Worker提供了这些功能所需的所有技术基础。</p>
<p>What is a Service Worker?</p>
<p>A service worker is a script that is run by your browser in the background, separate from a web page, opening the door to features which don’t need a web page or user interaction. In the future this will include push messages, background sync, and geofencing, but the first feature it will launch with is the ability to intercept and handle network requests, including programmatically managing a cache of responses.</p>
<h2 id="什么是Service_Worker?">什么是Service Worker?</h2>
<p>service worker是一个运行在浏览器后台的脚本，它和页面分离，它开创了通往不需要页面和UI的道路。<br>service worker包括信息推送，后台更新和地理围栏，但是它第一个会上线的功能是拦截和处理网络请求，包括管理responses。</p>
<p>The reason this is such an exciting API is that it allows you to support offline experiences, giving developers complete control over what exactly that experience is.<br>这个API让人感到兴奋的主要原因是它允许你支持离线体验，让开发者可以完全控制这个体验。</p>
<p>Before service worker there was one other API that would give users an offline experience on the web called App Cache. The major issue with App Cache is the number of gotcha’s that exist as well as the design working particularly well for single page web apps, but not for multi-page sites. Service workers have been designed to avoid these common pain points.<br>在service worker之前，还存在着一个API可以给用户在web上有离线体验，它就是<strong>App Cache</strong>。App Cache最大的问题是它不适合在多页面网站上使用。Service worder就是设计来避免这个问题的。</p>
<p>Things to note about a service worker:</p>
<ul>
<li>It’s a JavaScript Worker, so it can’t access the DOM directly. Instead, a service worker can communicate with the pages it controls by responding to messages sent via the PostMessage interface, and those pages can manipulate the DOM if needed.</li>
<li>Service worker is a programmable network proxy, allowing you to control how network requests from your page are handled.</li>
<li>It will be terminated when not in use, and restarted when it’s next needed, so you cannot rely on global state within a service worker’s <code>onfetch</code> and <code>onmessage</code> handlers. If there is information that you need to persist and reuse across restarts, service workers do have access to the IndexedDB API.</li>
<li>Service workers make extensive use of promises, so if you’re new to promises, then you should stop reading this and check out Jake Archibald’s article.<br>service worker值得注意的一些事情：</li>
<li>它是一个javascript工作线程，所以它不能直接操作DOM。但service worker可以和它控制的页面通信，这些页面可以操作DOM。</li>
<li>Service worker是一个可编程的网络代理，它允许你去控制网络怎么从你的页面请求。</li>
<li>它会在没有在使用时终止，而且会在需要时重启，所以你不能依赖service worder的<code>onfetch</code>和<code>onmessage</code>事件处理函数。如果你有信息需要在重启后保存和重用，service worder倒是可以访问IndexedDB API.</li>
<li>Service worders大量使用<code>promises</code>,所以如果你对promises不熟悉，你不用继续读下去了。请先阅读<a href="http://www.html5rocks.com/en/tutorials/es6/promises/" target="_blank">Jake Archibald’s article</a></li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  

  <nav id="pagination">
  
  
  <div class="clearfix"></div>
</nav>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:weiyuxing.com">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">分类</h3>
  <ul class="entry">
  
    <li><a href="/categories/grunt/">grunt</a><small>2</small></li>
  
    <li><a href="/categories/html5/">html5</a><small>3</small></li>
  
    <li><a href="/categories/javascript/">javascript</a><small>7</small></li>
  
    <li><a href="/categories/react/">react</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">标签</h3>
  <ul class="entry">
  
    <li><a href="/tags/Service Worker/">Service Worker</a><small>1</small></li>
  
    <li><a href="/tags/array/">array</a><small>1</small></li>
  
    <li><a href="/tags/grunt配置/">grunt配置</a><small>2</small></li>
  
    <li><a href="/tags/jquery常用插件/">jquery常用插件</a><small>1</small></li>
  
    <li><a href="/tags/js常用片段/">js常用片段</a><small>1</small></li>
  
    <li><a href="/tags/js常见代码片段/">js常见代码片段</a><small>1</small></li>
  
    <li><a href="/tags/js面向对象/">js面向对象</a><small>1</small></li>
  
    <li><a href="/tags/react/">react</a><small>1</small></li>
  
    <li><a href="/tags/template/">template</a><small>1</small></li>
  
    <li><a href="/tags/tips/">tips</a><small>2</small></li>
  
    <li><a href="/tags/异步/">异步</a><small>1</small></li>
  
    <li><a href="/tags/自定义事件，事件命名空间/">自定义事件，事件命名空间</a><small>1</small></li>
  
    <li><a href="/tags/跨域 CORS/">跨域 CORS</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">Recent Posts</h3>
  <ul class="entry">
    
      <li>
        <a href="/2014/12/22/如何使用CORS/">如何使用CORS</a>
      </li>
    
      <li>
        <a href="/2014/12/17/Getting-Started-With-React/">Getting Started With React</a>
      </li>
    
      <li>
        <a href="/2014/12/09/difference-between-success()--and-complete()/">difference between .success()  and .complete()</a>
      </li>
    
      <li>
        <a href="/2014/12/08/初步认识Service-Worker/">初步认识Service Worker</a>
      </li>
    
      <li>
        <a href="/2014/11/03/javascript类和继承分析/">javascript类和继承分析</a>
      </li>
    
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2014 yu
  
</div>
<div class="clearfix"></div></footer>
  <script src="//libs.baidu.com/jquery/1.10.2/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>